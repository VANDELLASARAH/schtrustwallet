/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function(window,drupalSettings){'use strict';var VALID_ENVIRONMENTS=['local','dev','test'];var DEBUG_HASH='#debug';var ENVIRONMENT=drupalSettings.schwab_utilities.environment;(function init(){_validateNamespace(['schwab','utilities','errorHandler']);window.schwab.utilities.errorHandler={'report':reportException,'log':logMessage};})();function reportException(errorEvent,details){var details=(arguments.length>1&&arguments[1]!==undefined)?arguments[1]:{};var shouldDebug=_shouldDebug();var message=_generateMessage(details);if(shouldDebug)_getReportMethod((details.type||'error'),message,errorEvent);}function logMessage(message){var details=(arguments.length>1&&arguments[1]!==undefined)?arguments[1]:{};details.message=message;var shouldDebug=_shouldDebug();var message=_generateMessage(details);if(shouldDebug)_getReportMethod((details.type||'warning'),message);}function _shouldDebug(){var isValidEnvironment=VALID_ENVIRONMENTS.indexOf(ENVIRONMENT)>-1;var isDebugEnabled=decodeURI(window.location.hash)===DEBUG_HASH;return isDebugEnabled||isValidEnvironment;}function _validateNamespace(pathArray){pathArray.reduce(function(path,property){if(!(property in path))path[property]={};return path[property];},window);}function _getReportMethod(type,message,errorEvent){switch(type){case 'warning':console.warn(message);if(errorEvent)console.warn(errorEvent);break;case 'error':console.error(message);if(errorEvent)console.error(errorEvent);break;case 'log':default:console.log(message);if(errorEvent)console.log(errorEvent);break;}}function _generateMessage(details){var prefix='['+('component' in details?details.component:'Schwab')+']';var message='message' in details?details.message:'';return [prefix,message].join(' ');}})(window,drupalSettings);;
(function(Drupal){'use strict';Drupal.behaviors.lazy={attach:function(context,settings){var utils={extend:function(obj,src){Object.keys(src).forEach(function(key){obj[key]=src[key];});return obj;},once:function(selector,context){return (context||document).querySelector(selector);},loadScript:function(url){if(document.querySelectorAll('script[src="'+url+'"]').length==0){var script=document.createElement('script'),scripts=document.getElementsByTagName('script')[0];script.src=url;script.async=true;scripts.parentNode.insertBefore(script,scripts);}}};if(utils.once('body',context)){var lazysizes=settings.lazy.lazysizes||{};if(!settings.lazy.preferNative){window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig=utils.extend(window.lazySizesConfig,lazysizes);if(!Object.entries)Object.entries=function(obj){var ownProps=Object.keys(obj),i=ownProps.length,resArray=new Array(i);while(i--)resArray[i]=[ownProps[i],obj[ownProps[i]]];return resArray;};var min=settings.lazy.minified?'.min':'';Object.entries(lazysizes.plugins).forEach(function(path){utils.loadScript(settings.lazy.libraryPath+'/plugins/'+path[1]+min+'.js');});utils.loadScript(settings.lazy.libraryPath+'/lazysizes'+min+'.js');}}}};})(Drupal);;
'use strict';(function(){var AppendQueryString=function(){var getQueryObjectFromString=function getQueryObjectFromString(queryString){var queryObject={};if(queryString){var keyValue;var parameterArray=queryString.split('&');parameterArray.forEach(function(parameter){keyValue=parameter.split('=');queryObject[keyValue[0]]=keyValue[1];});}return queryObject;};var getQueryString=function getQueryString(queryObj){var returnString="";var queryKeysArray=Object.keys(queryObj);queryKeysArray.forEach(function(key,index){returnString+=key+'='+queryObj[key];if(index<queryKeysArray.length-1)returnString+='&';});return returnString;};var getCombinedQueryObjects=function getCombinedQueryObjects(queryObj1,queryObj2,override){var returnQueryObj={};Object.keys(queryObj1).forEach(function(key){returnQueryObj[key]=queryObj1[key];});if(override)Object.keys(queryObj2).forEach(function(key){returnQueryObj[key]=queryObj2[key];});else Object.keys(queryObj2).forEach(function(key){if(!returnQueryObj[key])returnQueryObj[key]=queryObj2[key];});return returnQueryObj;};var processLinkParamters=function processLinkParameters(links,queryObj,override){var href;var defaultParameterString;var defaultParameterObject={};var parameterObject={};[].forEach.call(links,function(link){href=link.href;defaultParameterString=link.getAttribute('data-default-query-parameters');defaultParameterObject=getQueryObjectFromString(defaultParameterString);parameterObject=getCombinedQueryObjects(queryObj,defaultParameterObject,override);if(Object.keys(parameterObject).length>0){if(href.indexOf('?')>-1)href+='&';else href+='?';href+=getQueryString(parameterObject);link.href=href;}});};var init=function init(){var appendLinks=document.getElementsByClassName('appendquerystring');var overrideLinks=document.getElementsByClassName('overridequerystring');if(appendLinks.length>0||overrideLinks.length>0){var queryString=window.location.search.substr(1);var queryObj=getQueryObjectFromString(queryString);var override=false;processLinkParamters(appendLinks,queryObj,override);override=true;processLinkParamters(overrideLinks,queryObj,override);}};return {init};}();AppendQueryString.init();})();;
"use strict";(function($){'use strict';$.selectorCache=function(selector){if(!$.selectorCache[selector])$.selectorCache[selector]=$(selector);return $.selectorCache[selector];};$.debounce=function(func,wait,immediate){var timeout;var args;var context;var timestamp;var result;var later=function later(){var now=new Date().getTime();var last=now-timestamp;if(last<wait&&last>=0)timeout=setTimeout(later,wait-last);else{timeout=null;if(!immediate){result=func.apply(context,args);if(!timeout){context=null;args=null;}}}};return function(){context=this;args=arguments;timestamp=new Date().getTime();var callNow=immediate&&!timeout;if(!timeout)timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args);context=null;args=null;}return result;};};})(jQuery);;
(function(){var BeaconCallbackCache=function(){var createPath=function createPath(pathArray){var targetPath=window;pathArray.forEach(function(path){if(!(path in targetPath))targetPath[path]={};targetPath=targetPath[path];});return targetPath;};var getCallbackLocationFromPath=function getCallbackLocationFromPath(callbackPath){var pathArray=['schwab_beacon'].concat(callbackPath.split('.'));var path=createPath(pathArray);if(!('callbacks' in path))path['callbacks']=[];return path;};var setCallbackListeners=function setCallbackListeners(callbackPath,callback){var target=getCallbackLocationFromPath(callbackPath);target['callbacks'].push(callback);};var executeCallbackListeners=function executeCallbackListeners(callbackPath,paramsObject){var target=getCallbackLocationFromPath(callbackPath);var callbackArray=target['callbacks'];callbackArray.forEach(function(callback){callback(paramsObject);});};var init=function init(){if(!window.schwab_beacon)window.schwab_beacon={};window.schwab_beacon.setCallbackListeners=setCallbackListeners;window.schwab_beacon.executeCallbackListeners=executeCallbackListeners;};return {init};}();BeaconCallbackCache.init();})();;
'use strict';(function($,Drupal){Drupal.behaviors.svgAnimated={attach:function attach(){var panelComponent='bcn-panel__visual-container';var visualContainerComponent='visual-container';var objElement;var svgElement;var svgReplay;var counter=0;var checkIfElementExist;var motionQuery=matchMedia('(prefers-reduced-motion)');function isInViewport(svgAnimationElement){var rect=svgAnimationElement.getBoundingClientRect();var elemTop=rect.top;var elemBottom=rect.bottom;var isVisible=elemTop>=0&&elemBottom<=window.innerHeight;return isVisible;}function result(className,imgSource){if(className===panelComponent){var SVG="<object type=\"image/svg+xml\" data=\"".concat(imgSource,"\" id=\"svg-object-wrapper\"></object>");var bcnImageElement=document.querySelector('.bcn-panel__visual-container > img');var bcnModifiedDiv=bcnImageElement.parentElement;document.querySelector('.bcn-panel__visual-container > img').remove();bcnModifiedDiv.innerHTML=SVG;return;}else{var _SVG="<object type=\"image/svg+xml\" data=\"".concat(imgSource,"\" id=\"svg-object-wrapper\"></object>");var visualImgElement=document.querySelector('.bcn-panel__visual-container > img');var visualModifiedDiv=visualImgElement.parentElement;document.querySelector('.visual-container > img').remove();visualModifiedDiv.innerHTML=_SVG;return;}}function triggerSVGAnimation(){svgElement.getElementById('Stage').classList.remove('svg-wrapper');setTimeout(function(){svgElement.getElementById('Stage').classList.add('svg-wrapper');},500);}function reducedMotionCheck(){if(motionQuery.matches)return false;else return true;}function checkForSVGOnly(imageSource){if(imageSource.endsWith('.svg'))return true;else return false;}function animatedSVGChanges(){if(document.getElementById('svg-object-wrapper').contentDocument)if(!reducedMotionCheck()){svgElement=document.getElementById('svg-object-wrapper').contentDocument;svgReplay=svgElement.getElementById("Stage").querySelector('#replay-svg');svgReplay.style.display="none";}window.addEventListener('scroll',function(){objElement=document.getElementById('svg-object-wrapper');if(isInViewport(objElement)&&reducedMotionCheck()){svgElement=document.getElementById('svg-object-wrapper').contentDocument;if(counter===0){triggerSVGAnimation();counter+=1;}svgElement.getElementById("replay-svg").addEventListener("click",triggerSVGAnimation);}},false);}$('.bcn-panel__visual-container').ready(function(){if(document.querySelector('.bcn-panel__visual-container > img')){var animatedSVGURL=document.querySelector('.bcn-panel__visual-container > img').getAttribute('src');if(checkForSVGOnly(animatedSVGURL)){document.querySelector('.bcn-panel__visual-container > img').removeAttribute('src');document.addEventListener('DOMContentLoaded',result(panelComponent,animatedSVGURL));}}});$('.visual-container').ready(function(){if(document.querySelector('.visual-container > img')){var animatedSVGURL=document.querySelector('.visual-container > img').getAttribute('src');if(checkForSVGOnly(animatedSVGURL)){document.querySelector('.visual-container > img').removeAttribute('src');document.addEventListener('DOMContentLoaded',result(visualContainerComponent,animatedSVGURL));}}});checkIfElementExist=setInterval(function(){if(document.getElementById('svg-object-wrapper')){animatedSVGChanges();clearInterval(checkIfElementExist);}},600);}};})(jQuery,Drupal);;
'use strict';function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1;}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err;}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return;}finally{if(_d)throw _e;}}return _arr;}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function getImg(src){return src.split(",").reduce(function(acc,item){var _item$trim$split=item.trim().split(" "),_item$trim$split2=_slicedToArray(_item$trim$split,2),url=_item$trim$split2[0],width=_item$trim$split2[1];width=parseInt(width,10);if(width>acc.width)return {width,url};return acc;},{width:0,url:""}).url;}function setImg(){var _img=document.querySelectorAll(".lazyload");var _removed=0;_img.forEach(function(e){if(2>_removed){if(e.tagName.toUpperCase()==="DIV"){e.classList.remove("lazyload");e.classList.remove("lazyautosizes");e.classList.add("js-preload");var _img_src=e.getAttribute('data-bgset');if(_img_src.indexOf("?im=")!==-1)e.style.backgroundImage="url('"+_img_src+"')";else e.style.backgroundImage="url("+getImg(_img_src)+")";}else{if(e.tagName.toUpperCase()==="IMG"){var imgURL=e.getAttribute('src');if(imgURL)if(!imgURL.endsWith('.svg')){e.classList.add("js-preload");e.classList.remove("lazyload");e.classList.remove("lazyautosizes");}}}_removed+=1;}});}setImg();;
"use strict";!function($,Drupal){Drupal.behaviors.customChatLinkBehavior={attach:function(context,settings){$(".chat-popup",context).on("click",function(e){e.preventDefault(),$("#chatGlobalHeader").click(),e.stopPropagation();});}};}(jQuery,Drupal);;
"use strict";function browserWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;}if("undefined"!=typeof proactiveChatFlag&&!0===proactiveChatFlag){var proactiveHost="undefined"!=typeof proactiveChatHost&&proactiveChatHost?proactiveChatHost:"cempa.schwab.com",proactiveSrc="https://"+proactiveHost+"/netagent/proactive/proactive.aspx";$(document).ready(function(){if(browserWidth()>480){var addScript=document.createElement("script");addScript.setAttribute("type","text/javascript"),addScript.setAttribute("src",proactiveSrc),addScript.setAttribute("defer","defer"),document.body.appendChild(addScript);}});};
"use strict";!function($){$.debug=function(description,valueToOut){window.location.href.indexOf("localhost")>0&&(console.log("-------- "+description),console.log(valueToOut),console.log("\n\n"));},$.selectorCache=function(selector){return $.selectorCache[selector]||($.selectorCache[selector]=$(selector)),$.selectorCache[selector];},$.getCookieByName=function(cookieName){for(var name=cookieName+"=",ca=decodeURIComponent(document.cookie).split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(name))return c.substring(name.length,c.length);}return !1;},$.loggedInPast90Days=function(){var np2Cookie=$.getCookieByName("NP2"),lastLoginDate=!!np2Cookie&&new Date(np2Cookie.split("|")[2]);if(lastLoginDate&&lastLoginDate>new Date((new Date()).setDate((new Date()).getDate()-90)))return !0;return !1;},$.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function later(){var last=(new Date()).getTime()-timestamp;last<wait&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),timeout||(context=args=null)));};return function(){context=this,args=arguments,timestamp=(new Date()).getTime();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result;};};}(jQuery);;
"use strict";!function($,Drupal,window,document,once){Drupal.behaviors.transcript={attach:function(context,settings){$('.transcript-container a[data-toggle="collapse"]').off("click").on("click",function(event){event.preventDefault();var target=$(this).attr("href");$(this).toggleClass("active"),$(target).toggleClass("in");});}},Drupal.behaviors.taxonomy_feature={attach:function(context,settings){function featuredTaxItemsEqualHeight(){var top_height=0;$(".featured-top--section").each(function(){$(this).height("");}),$(".featured-top--section").each(function(){$(this).height()>top_height&&(top_height=$(this).height());}),$(".featured-top--section").each(function(){$(this).height(top_height);});var summary_height=0;$(".featured-top--summary").each(function(){$(this).height("");}),$(".featured-top--summary").each(function(){$(this).height()>summary_height&&(summary_height=$(this).height());}),$(".featured-top--summary").each(function(){$(this).height(summary_height);});}$(".taxonomy-landing-page--featured .featured-taxonomy-items__item").length&&(new Swiper(".featured-taxonomy-items",{direction:"horizontal",loop:!0,preventClicks:!1,preventClicksPropagation:!1,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:4}),featuredTaxItemsEqualHeight(),$(window).resize(function(){featuredTaxItemsEqualHeight();}));}},Drupal.behaviors.slideshow={attach:function(context,settings){$(".main-slideshow .swiper-container--field-slideshow-slides").length&&$(once("schwab_slideshow","body")).each(function(){var mySwiper,swiperVariation,isMobile=$(window).width()<=979,isSmallDesktop=$(window).width()>979&&$(window).width()<=1270,isLargeDesktop=$(window).width()>1270;function swiperSlideshowInit(mySwiper,swiperVariation,sliderIndex){var swiperOpts,vDepth,vStretch,titleImageHeight,slideshowLength=parseInt($(".main-slideshow .swiper-slide").length);if("small"===swiperVariation?slideshowLength>6?(vDepth=125,vStretch=377):(vDepth=150,vStretch=295):"large"===swiperVariation&&(slideshowLength>6?(vDepth=125,vStretch=470):(vDepth=170,vStretch=350)),swiperOpts="mobile"===swiperVariation?{initialSlide:sliderIndex,loop:!1,pagination:".pagination",paginationType:"fraction",nextButton:".main-slideshow .swiper-button-next",prevButton:".main-slideshow .swiper-button-prev",centeredSlides:!0,slidesPerView:1,watchSlidesVisibility:!0,watchSlidesProgress:!0,effect:"slide",slide:{depth:0,stretch:0,modifier:0}}:{initialSlide:sliderIndex,loop:!0,pagination:".pagination",paginationType:"fraction",nextButton:".main-slideshow .swiper-button-next",prevButton:".main-slideshow .swiper-button-prev",centeredSlides:!0,slidesPerView:1.65,loopAdditionalSlides:3,loopedSlides:slideshowLength-2,watchSlidesVisibility:!0,watchSlidesProgress:!0,effect:"coverflow",coverflow:{rotate:0,stretch:vStretch,depth:vDepth,modifier:1,slideShadows:!1}},isMobile=parseInt($(window).width())<=979,0!==(mySwiper=new Swiper(".main-slideshow .swiper-container--field-slideshow-slides",swiperOpts)).container.length)return mySwiper.on("onInit",function(){"mobile"!==swiperVariation&&(mySwiper.swiper.param.slidesPerView=2,mySwiper.swiper.param.loopAdditionalSlides=3),$(".main-slideshow .pagination").html(parseInt(mySwiper.realIndex)+1+" / "+slideshowLength),titleImageHeight=parseInt($(".main-slideshow .current-slide .slide-image").height())+parseInt($(".main-slideshow .current-slide .slide-title").height()),$(".main-slideshow .swiper-button-prev, .main-slideshow .swiper-button-next").css("top",titleImageHeight/2+"px"),$(".main-slideshow .swiper-button-prev, .main-slideshow .swiper-button-next").css("visibility","visible");}),mySwiper.on("onTransitionStart",function(swiper){$(".main-slideshow .swiper-slide").removeClass("current-slide"),$(".main-slideshow .pagination").html(parseInt(mySwiper.realIndex)+1+" / "+slideshowLength);}),mySwiper.on("onTransitionEnd",function(swiper){$(".main-slideshow .swiper-slide-active").addClass("current-slide"),$(".main-slideshow").css("padding-bottom",parseInt($(".main-slideshow .current-slide .slide-text").height())+30+"px");}),$(".main-slideshow .swiper-slide-active").addClass("current-slide"),$(".main-slideshow").css("padding-bottom",parseInt($(".main-slideshow .current-slide .slide-text").height())+30+"px"),$(".main-slideshow .pagination-navigation .button-prev").off("click").click(function(event){mySwiper.slidePrev();}),$(".main-slideshow .pagination-navigation .button-next").off("click").click(function(event){mySwiper.slideNext();}),$(".main-slideshow .current-slide .slide-text").on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){titleImageHeight=parseInt($(".main-slideshow .current-slide .slide-image").height())+parseInt($(".main-slideshow .current-slide .slide-title").height()),$(".main-slideshow .swiper-button-prev, .main-slideshow .swiper-button-next").css("top",titleImageHeight/2+"px"),$(".main-slideshow .swiper-button-prev, .main-slideshow .swiper-button-next").css("visibility","visible");}),mySwiper;}$(window).width()<980&&(swiperVariation="mobile"),$(window).width()>980&&$(window).width()<1270&&(swiperVariation="small"),$(window).width()>=1270&&(swiperVariation="large"),mySwiper=swiperSlideshowInit(mySwiper,swiperVariation,0),$(window).resize(function(){if(void 0!==mySwiper&&0!==mySwiper.container.length){var newMobile=$(window).width()<=980,newSmallDesktop=$(window).width()>980&&$(window).width()<1270,newLargeDesktop=$(window).width()>=1270,sliderIndex=parseInt(mySwiper.realIndex);"mobile"===swiperVariation&&(sliderIndex=parseInt(mySwiper.activeIndex)),newMobile&&!isMobile&&(isMobile=newMobile,newMobile=!1,isSmallDesktop=!1,isLargeDesktop=!1,swiperVariation="mobile",$(".main-slideshow .swiper-slide").removeClass("current-slide"),mySwiper.destroy(!0,!0),mySwiper=swiperSlideshowInit(mySwiper,swiperVariation,sliderIndex)),newSmallDesktop&&!isSmallDesktop&&(isSmallDesktop=newSmallDesktop,newSmallDesktop=!1,isMobile=!1,isLargeDesktop=!1,swiperVariation="small",$(".main-slideshow .swiper-slide").removeClass("current-slide"),mySwiper.destroy(!0,!0),mySwiper=swiperSlideshowInit(mySwiper,swiperVariation,sliderIndex)),newLargeDesktop&&!isLargeDesktop&&(isLargeDesktop=newLargeDesktop,newLargeDesktop=!1,isMobile=!1,isSmallDesktop=!1,swiperVariation="large",$(".main-slideshow .swiper-slide").removeClass("current-slide"),mySwiper.destroy(!0,!0),mySwiper=swiperSlideshowInit(mySwiper,swiperVariation,sliderIndex));}});});}},Drupal.behaviors.mainMenu={attach:function(context,settings){$(once("mainMenu",".main-menu__link")).keydown(function(event){var $parentItem=$(this).parent(".main-menu__item"),$nextLink=$parentItem.next().children(".main-menu__link"),$prevLink=$parentItem.prev().children(".main-menu__link");switch(event.which){case 39:event.preventDefault(),$nextLink.focus();break;case 37:event.preventDefault(),$prevLink.focus();}});}},Drupal.behaviors.mobileMenu={attach:function(context,settings){var $menuButton=$(".mobile-menu__icon"),$mobileMenuLinks=$(".mobile-menu__link"),$pageWrapper=$("#pg__c");function toggleMenu(restriction){$pageWrapper.hasClass("mobile-menu__show")?"openOnly"!==restriction&&($pageWrapper.removeClass("mobile-menu__show"),$menuButton.focus()):"closeOnly"!==restriction&&($pageWrapper.addClass("mobile-menu__show"),$mobileMenuLinks.first().focus());}$(once("mobileMenu",$menuButton)).click(function(event){event.preventDefault(),$pageWrapper.toggleClass("mobile-menu__show");}).keydown(function(event){switch(event.which){case 13:case 32:event.preventDefault(),toggleMenu();break;case 39:case 40:event.preventDefault(),toggleMenu("openOnly");break;case 27:case 37:event.preventDefault(),toggleMenu("closeOnly");}}),$(once("mobileMenu",$mobileMenuLinks)).click(function(event){var $parentItem=$(this).parent(".mobile-menu__item--parent");$parentItem.length>0&&(event.preventDefault(),$parentItem.toggleClass("mobile-menu__item--expanded"));}).keydown(function(event){var $parentItem=$(this).parent(".mobile-menu__item"),$grandParentItem=$parentItem.parent().closest(".mobile-menu__item"),$grandParentLink=$grandParentItem.children(".mobile-menu__link"),$nextLink=$parentItem.next().children(".mobile-menu__link"),$prevLink=$parentItem.prev().children(".mobile-menu__link"),$firstChildLink=$parentItem.children(".mobile-menu__list").find(".mobile-menu__link").first();switch(event.which){case 13:case 32:case 39:event.preventDefault(),$parentItem.hasClass("mobile-menu__item--parent")?($parentItem.toggleClass("mobile-menu__item--expanded"),$firstChildLink.focus()):13===event.which&&(window.location=this.href);break;case 40:event.preventDefault(),$nextLink.focus();break;case 38:event.preventDefault(),$prevLink.focus();break;case 27:case 37:event.preventDefault(),$grandParentItem.hasClass("mobile-menu__item--parent")?$grandParentItem.hasClass("mobile-menu__item--expanded")&&($grandParentItem.removeClass("mobile-menu__item--expanded"),$grandParentLink.focus()):toggleMenu("closeOnly");break;case 9:$parentItem.hasClass("mobile-menu__item--top")&&(0===$nextLink.length||event.shiftKey&&0===$prevLink.length)&&toggleMenu("closeOnly");}});}},Drupal.behaviors.contactUs={attach:function(context,settings){var $contactLink=$("#contact__link"),$contactModal=$("#contact__modal");function contactClose(){$contactLink.attr("aria-expanded","false"),$contactModal.attr("aria-hidden","true");}$(once("contactUs","html")).click(function(e){$(e.target).closest("#contact").length||contactClose();}),$(once("contactUs",$contactLink)).click(function(e){e.preventDefault(),"true"===$(this).attr("aria-expanded")?contactClose():($contactLink.attr("aria-expanded","true"),$contactModal.attr("aria-hidden","false"));});}},Drupal.behaviors.logInMenu={attach:function(context,settings){var $logInLink=$(".js-log-in");if(0!==$logInLink.length){var $logInMenu=$("#block-login"),$window=$(window);$(once("logInMenu",$logInLink)).click(function(e){e.preventDefault(),isOpen()?logInMenuClose():(placeMenu(),$logInMenu.addClass("block-login--visible"),$window.trigger("resize")),e.stopPropagation();}),$(once("logInMenu","html")).click(function(e){var $target=$(e.target);isOpen()&&!$target.closest("#block-login").length&&logInMenuClose();}),$(once("logInMenu",$window)).resize(function(e){placeMenu();});}function logInMenuClose(){$logInMenu.removeClass("block-login--visible");}function isOpen(){return $logInMenu.hasClass("block-login--visible");}function placeMenu(){var linkOffset=$logInLink.offset(),linkHeight=$logInLink.height(),menuCss={top:linkOffset.top+linkHeight+10+"px",left:linkOffset.left+"px",right:""},windowWidth=document.body.clientWidth;linkOffset.left+$logInMenu.width()>windowWidth?(menuCss.left="",menuCss.right=windowWidth-(linkOffset.left+$logInLink.width())+"px",$logInMenu.addClass("block-login--right-aligned")):$logInMenu.removeClass("block-login--right-aligned"),$logInMenu.css(menuCss);}}},Drupal.behaviors.seeAll={nextPage:1,appendSlides:function(slides){this.mySwiper.appendSlide(slides);},requestAndAppend:function(){var self=this,path=window.location.pathname+"?page="+self.nextPage;$.get({url:path,success:function(obj){0===(obj=$(obj).find("li.swiper-slide")).length?self.nextPage=-1:(self.appendSlides(obj),self.nextPage+=1);},error:function(obj){self.nextPage=-1;},dataType:"html"});},attach:function(context,settings){var self=this;$(once("schwab_carousel","body")).each(function(){$(".swiper-container--carousel").length>0&&(self.mySwiper=new Swiper(".swiper-container--carousel",{loop:!1,slidesPerView:4,loopedSlides:0,slidesPerGroup:4,grabCursor:!0,spaceBetween:10,setWrapperSize:!0,nopeek:!0,preventClicks:!1,preventClicksPropagation:!1,breakpoints:{600:{slidesPerView:2,slidesPerGroup:2}},nextButton:".swiper-nav--carousel .swiper-button-next",prevButton:".swiper-nav--carousel .swiper-button-prev",onInit:self.requestAndAppend()}),self.mySwiper.on("slideChangeStart",function(swiper){self.nextPage>0&&self.requestAndAppend();}));});}},Drupal.behaviors.scrollShareIcons={attach:function(context,settings){$(".share-content-print").length>0&&$(".share-content-print").is(":visible")&&setTimeout(function(){$("#main").stickem();},250);}};}(jQuery,Drupal,void 0,document,once);;
(function($){var state='desktop';var accordionAnimation=function(){var button=$(this).find('button');$(this).find('.footmn-menu-child').slideToggle('fast');if(button.hasClass('sch-minus-large'))button.removeClass('sch-minus-large').addClass('sch-plus-large');else button.removeClass('sch-plus-large').addClass('sch-minus-large');};var configContent=function(){if($(window).width()>=768&&state==='mobile'){$.selectorCache('.footmn-menu-main li').unbind('click',accordionAnimation);$.selectorCache('.footmn-menu-child').show();}else{if($(window).width()<768&&state==='desktop')$.selectorCache('.footmn-menu-main li').bind('click',accordionAnimation);}state=($(window).width()>=768)?'desktop':'mobile';};var setFooterInfoLinksTarget=function(){$link=$('.menu--footer-information-links .sch-external-link-right a').prop('target','_blank');};configContent();$(window).resize(configContent);$(document).ready(function(){setFooterInfoLinksTarget();});}(jQuery));;
(function(Drupal,$,document,window,once){Drupal.behaviors.schwabEditorLinkBehaviors={attach:function(context){$(once('schwabEditorLinkBehaviorsHandler',document.body,context)).each(function(){var stockInformationUrl='https://client.schwab.com/public/QuickQuote/SymbolRouting.aspx?Symbol=';var openPopup=function openPopup(href,options){var popupOptions={toolbar:'no',scrollbars:'no',resizable:'yes',width:500,height:600};$.extend(popupOptions,options);if(href)window.open(href,'_blank',['toolbar='+popupOptions.toolbar,'scrollbars='+popupOptions.scrollbars,'resizable='+popupOptions.resizable,'width='+popupOptions.width,'height='+popupOptions.height].join(','));};$('a[target="_popup"]').on('click',function(event){event.preventDefault();var href=$(this).attr('href'),width=$(this).data('popup-width')||500,height=$(this).data('popup-height')||600;openPopup(href,{width,height});});$('a[target="_stock"]').on('click',function(event){event.preventDefault();event.stopImmediatePropagation();var stockSymbol=$(this).data('stock-symbol');if(stockSymbol)openPopup(stockInformationUrl+stockSymbol,{width:700});});});}};})(Drupal,jQuery,document,this,once);;
(function($,Drupal){Drupal.behaviors.moderated_content_bulk_publish={attach:function(context,settings){$('#edit-submit').unbind('click.moderated_content_bulk_publish');}};})(jQuery,Drupal);;
(function(Drupal,drupalSettings,window){Drupal.schwab_genesys={};Drupal.schwab_genesys={config:drupalSettings.schwab_genesys};})(Drupal,drupalSettings,window);;
var _globalChatHandler={isProactive:function(){return typeof drupalSettings!=='undefined'?drupalSettings.isProactive:false;},isLegacyProactive:function(){return typeof _proactiveChatLoc!=='undefined'?_proactiveChatLoc:false;},isChatConfigStored:function(){return this.getChatCookie()?true:false;},getChatCookie:function(){var matched=document.cookie.match(RegExp("chatConf=.[^\;]*"));if(matched){var cookie=matched[0].split('=');return JSON.parse(decodeURIComponent(cookie[1]));}return false;},setChatCookie:function(value,date){var expireDate='';var d=new Date();if(date){d.setTime(d.getTime()+24*60*60*1000*date);expireDate=d.toGMTString();}return document.cookie='chatConf='+encodeURIComponent(JSON.stringify(value))+'; path=/; expires='+expireDate;},deleteChatCookie:function(){return this.setChatCookie('',-1);},refreshMeta:{pluginsLoaded:false,setStamp:function(){return new Date().getTime();;}},timeDiff:function(future,past){var diff=(future-past)/1000;diff/=60;return Math.abs(Math.round(diff));},getSnippet:function(){var snippetOnload="javascript:CXBus.configure({pluginsPath:'"+this.paths.snippet.onload.plugins+"'});CXBus.loadFile('"+this.paths.snippet.onload.config+"').done(function(){CXBus.loadFile('"+this.paths.snippet.onload.main+"')})";var snippetCoreCommand=".done(function(){CXBus.loadPlugin('widgets-core').done(function(){_globalChatHandler.refreshMeta.pluginsLoaded = true;});});";if(this.isChatConfigStored()===true||(this.isProactive()===true||this.isLegacyProactive()===true))snippetOnload=snippetOnload+snippetCoreCommand;return snippetOnload;},loadSnippet:function(){var j=document.createElement('script');j.async=true;j.src=_globalChatHandler.paths.snippet.src;j.setAttribute("onload",this.getSnippet());document.body.appendChild(j);},loadStyles:function(){var _linkRef=document.createElement('link');_linkRef.setAttribute("rel","preload");_linkRef.setAttribute("type","text/css");_linkRef.setAttribute("as","style");_linkRef.setAttribute("href",this.paths.styles.src);_linkRef.setAttribute("onload","this.rel='stylesheet'");document.body.appendChild(_linkRef);},formValidate:function(event,form,input,label,$,CXBus,Common,fieldType){var mailFormat=this.getMailFormat();if(input){input[0].onfocus=function(){input[0].classList.remove('cx-error');};if(input[0].value===''||(fieldType==='email'&&!input[0].value.match(mailFormat))||(fieldType==='subject'&&input[0].value.length<3)){input[0].classList+=" cx-error";input[0].setAttribute("aria-invalid","true");return false;}input[0].classList.remove("cx-error");input[0].setAttribute("aria-invalid","false");return true;}},buildFormInputs:function(){var inputObjectArray=[];const inputFieldTypes=['FirstName','LastName','Email','Subject'];for(let i=0;i<inputFieldTypes.length;i++){let inputFieldTypeMachineName=inputFieldTypes[i].toLowerCase();let inputFieldType=inputFieldTypes[i];let obj={id:'cx_webchat_form_'+inputFieldTypeMachineName,name:inputFieldTypeMachineName,maxlength:"100",label:"@i18n:webchat.ChatForm"+inputFieldType,wrapper:"<tr><th>{label}</th><td class='cx-required'><span>*Required</span>{input}</td></tr>",required:'required="required"',validateWhileTyping:true,validate:function(event,form,input,label,$,CXBus,Common){return _globalChatHandler.formValidate(event,form,input,label,$,CXBus,Common,inputFieldTypeMachineName);}};inputObjectArray.push(obj);}return inputObjectArray;},form:{wrapper:'<table id="genForm"></table>',inputs:{}},paths:{snippet:{src:'/modules/custom/schwab_genesys/wd_js/cxbus.min.js',onload:{plugins:'/modules/custom/schwab_genesys/wd_js/plugins',config:'/modules/custom/schwab_genesys/wd_js/widgets.config.js',main:'/modules/custom/schwab_genesys/wd_js/widgets_main.js'}},environments:{devEnv:'https://client-test1.schwab.com',testEnv:'https://client-uat.schwab.com',pceEnv:'https://client-pce.schwab.com',prodEnv:'https://client.schwab.com'},styles:{src:'/modules/custom/schwab_genesys/wd_js/sch_genesys.css'}},messaging:{overlay:function(){if(typeof Drupal!=='undefined'&&Drupal)return '<div class="intro-message" id="introOverlay" role=”dialog” aria-label=”Schwab Chat Window” tabindex="-1"> <main> '+Drupal.schwab_genesys.config.overlay+' </main> <footer><button class="cx-btn cx-btn-default i18n" tabindex="0" id="sch_chatCloseOverlay" aria-label="'+Drupal.schwab_genesys.config.popup_button+'"> '+Drupal.schwab_genesys.config.popup_button+' </button> </footer></div>';else return '<div class="intro-message" id="introOverlay" role=”dialog” aria-label=”Schwab Chat Window” tabindex="-1"> <main> <p>Thanks for getting in touch with us.</p> <p><strong class="pre-message-title">Already a client?</strong> Please <a tabindex="0" href="https://client.schwab.com/Service/ContactUs/EmailSchwab.aspx">log in</a>. Select “Contact Us” to begin our chat.</p> <p>If you <strong class="pre-message-title">forgot your password</strong>, <a tabindex="0" href="https://client.schwab.com/Areas/Login/ForgotPassword/FYPIdentification.aspx" aria-label="Reset it">reset it</a> or call us at 800-435-4000. For security reasons, we cannot do this via chat.</p><p><strong class="pre-message-title">Not yet a client?</strong> Tell us a little bit about yourself.</p> <p>By submitting your contact information, you consent to receive marketing or other communications from Schwab. Read more about <a tabindex="0" href="/privacy" target="_blank">privacy</a> at Schwab.</p></main> <footer><button class="cx-btn cx-btn-default i18n" tabindex="0" id="sch_chatCloseOverlay" aria-label="Next">Next</button> </footer></div>';},genericError:function(){if(typeof Drupal!=='undefined'&&Drupal)return Drupal.schwab_genesys.config.genericError;else return 'We apologize, our Chat feature is currently unavailable at this time. If you need immediate assistance, please call us at 800-435-4000. Or if you prefer to use our Chat feature, please try again later.';}},getGatewayUrl:function(){var gatewayUrl=this.paths.environments.devEnv;if(typeof Drupal!=='undefined'&&Drupal)gatewayUrl=Drupal.schwab_genesys.config.url;else{if(window.location.href.indexOf('www-pce.schwab.com')>-1)gatewayUrl=this.paths.environments.pceEnv;else if(window.location.href.indexOf('www-uat.schwab.com')>-1)gatewayUrl=this.paths.environments.testEnv;else{if(window.location.href.indexOf('www.schwab.com')>-1)gatewayUrl=this.paths.environments.prodEnv;}gatewayUrl=gatewayUrl+'/Service/ContactUs/SchwabChat';}return gatewayUrl;},chatLinkClicked:false,gatewayError:function(){if(this.chatLinkClicked)alert(_globalChatHandler.messaging.genericError());else{if(this.isProactive()||this.isLegacyProactive())this.loadSnippet();}},getChatConfig:function(callback){var chatConfig=this.isChatConfigStored()?this.getChatCookie():null;if(chatConfig===null){var cxhr=new XMLHttpRequest();cxhr.open('POST',this.getGatewayUrl(),true);cxhr.onreadystatechange=function(){if(cxhr.readyState==4&&cxhr.status==200){var res=JSON.parse(JSON.parse(cxhr.response));chatConfig={storeConfig:true,timeSetStamp:_globalChatHandler.refreshMeta.setStamp(),ajaxTimeout:6000,userData:{GUID:res.exodusResponse.GUID,browserURL:window.location.href.split('?')[0]},transport:res.exodusResponse.Transport,markdown:true};_globalChatHandler.setChatCookie(chatConfig,'');_globalChatHandler.configObj=chatConfig;if(callback&&{}.toString.call(callback)==='[object Function]')callback(chatConfig);}};cxhr.timeout=10000;cxhr.ontimeout=function(){_globalChatHandler.gatewayError();};cxhr.onerror=function(){_globalChatHandler.gatewayError();};cxhr.send();}else callback(chatConfig);},refreshGUID:function(callback){var rxhr=new XMLHttpRequest();rxhr.open('POST',this.getGatewayUrl(),true);rxhr.onreadystatechange=function(){if(rxhr.readyState==4&&rxhr.status==200){var res=JSON.parse(JSON.parse(rxhr.response));var newGUID=res.exodusResponse.GUID;window._genesys.widgets.webchat.timeSetStamp=_globalChatHandler.refreshMeta.setStamp();if(callback&&{}.toString.call(callback)==='[object Function]')callback(newGUID);}};rxhr.timeout=10000;rxhr.ontimeout=function(){_globalChatHandler.gatewayError();};rxhr.onerror=function(){_globalChatHandler.gatewayError();};rxhr.send();},isIE11:function(){var _browserType=window.navigator.userAgent.indexOf('Trident/');return (_browserType>0)?true:false;},genesysWindowAlert:function(label){window._genesys.widgets.common.showAlert(document.querySelector('.cx-widget.cx-webchat'),{text:label,buttonText:'Ok'});},getMailFormat:function(){return /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;},configObj:{IsOfac:false}};_globalChatHandler.form.inputs=_globalChatHandler.buildFormInputs();if(_globalChatHandler.isProactive()||_globalChatHandler.isLegacyProactive()||_globalChatHandler.isChatConfigStored())_globalChatHandler.getChatConfig(function(config){_globalChatHandler.configObj=config;_globalChatHandler.loadSnippet();});else _globalChatHandler.loadSnippet();_globalChatHandler.loadStyles();;
(function(drupalSettings,$,document){'use strict';var PrivacyCheck={createLink:function(){var footerMenu=document.querySelector('.menu--footer-information-links .menu');if(!footerMenu)footerMenu=document.querySelector('.menu--footer-alternate .menu');if(footerMenu){var oneTrustLink=document.createElement('a');var listItem=document.createElement('li');oneTrustLink.classList.add('ot-sdk-show-settings');oneTrustLink.textContent="Do not sell my personal information";oneTrustLink.href="javascript:void(0)";listItem.appendChild(oneTrustLink);footerMenu.appendChild(listItem);}},init:function(){var thisPrivacy=this;setTimeout(function(){if((typeof visitor_location!=='undefined')&&(visitor_location["country_code"]==="US"))thisPrivacy.createLink();},0);}};PrivacyCheck.init();})(drupalSettings,jQuery,document);;
(function(window){'use strict';if(window.schwab&&window.schwab.utilities)window.schwab.utilities.urlHelpers={getUrlQueryParam:function(param,customUrl){param=param.replace(/[\[]/,'\\[').replace(/[\]]/,'\\]');var paramTest=new RegExp('[\\?&]'+param+'=([^&#]*)');var url=customUrl?customUrl:location.search;var results=paramTest.exec(url);return results===null?'':decodeURIComponent(results[1].replace(/\+/g,' '));}};})(window);;
(function(window){'use strict';if(window.schwab&&window.schwab.utilities)window.schwab.generalReferrals={localStorageSetBlockReferralKey:'',localStorageSetTTL:0,localStorageSetBlockProgramID:'',localStorageOAABlockReferralKey:'',getLocalStorageSetBlockReferralKey:function(){return this.localStorageSetBlockReferralKey;},setLocalStorageSetBlockReferralKey:function(key){this.localStorageSetBlockReferralKey=key;},getLocalStorageSetTTL:function(){return this.localStorageSetTTL;},setLocalStorageSetTTL:function(time){this.localStorageSetTTL=time;},getLocalStorageSetBlockProgramID:function(){return this.localStorageSetBlockProgramID;},setLocalStorageSetBlockProgramID:function(id){this.localStorageSetBlockProgramID=id;},getLocalStorageOAABlockReferralKey:function(){return this.localStorageOAABlockReferralKey;},setLocalStorageOAABlockReferralKey:function(key){this.localStorageOAABlockReferralKey=key;},setupVariablesFromBlockData:function(){if(drupalSettings.schwab_general_referrals.setReferralKey)this.setLocalStorageSetBlockReferralKey(drupalSettings.schwab_general_referrals.setReferralKey);if(drupalSettings.schwab_general_referrals.setReferralTTL)this.setLocalStorageSetTTL(drupalSettings.schwab_general_referrals.setReferralTTL);if(drupalSettings.schwab_general_referrals.referralProgramID)this.setLocalStorageSetBlockProgramID(drupalSettings.schwab_general_referrals.referralProgramID);if(drupalSettings.schwab_general_referrals.oaaReferralKey)this.setLocalStorageOAABlockReferralKey(drupalSettings.schwab_general_referrals.oaaReferralKey);}};})(window);;
(function(document,window){'use strict';if(window.schwab&&window.schwab.generalReferrals&&window.schwab.utilities){var SetReferralOAALinks=function(){var ReferralManager;var UrlHelpers;var oaaReferralKey;var localStorageReferralKey;var referralString;var referralObject;var openAccountLinks;var getQueryString=function(queryObj){var returnString="";var queryKeysArray=Object.keys(queryObj);queryKeysArray.forEach(function(key,index){returnString+=key+'='+queryObj[key];if(index<queryKeysArray.length-1)returnString+='&';});return returnString;};var getQueryObjectFromString=function(queryString){var queryObject={};if(queryString){var keyValue;var parameterArray=queryString.split('&');parameterArray.forEach(function(parameter){keyValue=parameter.split('=');queryObject[keyValue[0]]=keyValue[1];});}return queryObject;};var getUpdateQueryParameters=function(href,value){var parts=href.split('?');var queryObject=getQueryObjectFromString(parts[1]);if(queryObject[oaaReferralKey]){var referralValues=queryObject[oaaReferralKey];if(referralValues.indexOf(value)===-1)queryObject[oaaReferralKey]=queryObject[oaaReferralKey]+encodeURIComponent(',')+value;}else queryObject[oaaReferralKey]=value;return parts[0]+'?'+getQueryString(queryObject);};var updateOAALinks=function(refrid){for(var i=0;i<openAccountLinks.length;i++){var href=openAccountLinks[i].getAttribute('href');if(href.indexOf('?')>-1)href=getUpdateQueryParameters(href,refrid);else href=href+'?'+oaaReferralKey+'='+refrid;openAccountLinks[i].setAttribute('href',href);}};var updateOAALinksFromInternalStorage=function updateOAALinksFromInternalStorage(){var referralProgramsArray=Object.keys(referralObject[oaaReferralKey]);var referralValue="";var timeToLive=0;var timestamp=0;var currentTime=Date.now();referralProgramsArray.forEach(function(program){referralValue=referralObject[oaaReferralKey][program]['value'];timeToLive=86400000*referralObject[oaaReferralKey][program]['TTL'];timestamp=referralObject[oaaReferralKey][program]['timestamp'];if((currentTime-timestamp)<=timeToLive)updateOAALinks(referralValue);else{delete referralObject[oaaReferralKey][program];localStorage.setItem(localStorageReferralKey,JSON.stringify(referralObject));}});};var init=function init(){ReferralManager=window.schwab.generalReferrals;UrlHelpers=window.schwab.utilities.urlHelpers;ReferralManager.setupVariablesFromBlockData();oaaReferralKey=ReferralManager.getLocalStorageOAABlockReferralKey();localStorageReferralKey='schwab_referral_'+oaaReferralKey;referralString=localStorage.getItem(localStorageReferralKey);referralObject=JSON.parse(referralString)||{};openAccountLinks=document.querySelectorAll('[type="_open_an_account"], .general-referral-oaa, .bcn-button--open-an-account');var referralValue=UrlHelpers.getUrlQueryParam(oaaReferralKey);if(oaaReferralKey&&referralObject[oaaReferralKey])updateOAALinksFromInternalStorage();if(referralValue)updateOAALinks(referralValue);};return {init};}();document.addEventListener('DOMContentLoaded',function(event){SetReferralOAALinks.init();});}})(document,window);;
(function(window){'use strict';if(window.schwab&&window.schwab.utilities)window.schwab.utilities.browserStorage={getCookie:function(cookieName){var name=cookieName+"=";var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length);}return null;},setCookie:function setCookie(cookieName,cookieValue,expirationDays,path,domain,sameSite,secure){var documentCookie=cookieName+"="+cookieValue;if(expirationDays){var date=new Date();date.setTime(date.getTime()+(expirationDays*24*60*60*1000));documentCookie+=";expires="+date.toUTCString();}documentCookie+=path?";path="+path:'';documentCookie+=domain?";domain="+domain:'';documentCookie+=(sameSite=='none'||sameSite=='lax'||sameSite=='strict')?";samesite="+sameSite:'';documentCookie+=secure?";secure":'';document.cookie=documentCookie;}};})(window);;
(function(window){'use strict';if(window.schwab&&window.schwab.utilities){var BrowserStorage=window.schwab.utilities.browserStorage;var UrlHelpers=window.schwab.utilities.urlHelpers;window.schwab.referrals={promoCode:null,macCode:null,referralCookieName:'oacct-ref',getPromoCode:function(){return this.getCode('promoCode','refrid');},getMacCode:function(){return this.getCode('macCode','src');},getCode:function(codeType,queryParam){var code=UrlHelpers.getUrlQueryParam(queryParam)||this[codeType];if(!code){var codesFromCookie=this.getCodesFromReferralCookie();code=codesFromCookie&&codesFromCookie[codeType]?codesFromCookie[codeType]:null;}return code;},getCodesFromReferralCookie:function(){var codes=null;var cookie=BrowserStorage.getCookie(this.referralCookieName);if(cookie){cookie=cookie.split("|");if(cookie[0]&&cookie[1])codes={promoCode:cookie[0],macCode:cookie[1]};}return codes;},isReferral:function(){if(this.getPromoCode()&&this.getMacCode())return true;return false;},isNewReferral:function(){var hasPromoCode=UrlHelpers.getUrlQueryParam('refrid')||this.promoCode;var hasMacCode=UrlHelpers.getUrlQueryParam('src')||this.macCode;if(hasPromoCode&&hasMacCode)return true;return false;}};}})(window);;
(function(document,window){'use strict';if(window.schwab&&window.schwab.referrals&&window.schwab.utilities){var ReferralManager=window.schwab.referrals;var UrlHelpers=window.schwab.utilities.urlHelpers;if(typeof ReferralManager.isReferral==="function"&&ReferralManager.isReferral()){var oaaUrlHandler={getUpdatedUrl:function(url){var refridParam=this.getUpdatedParam('refrid',url,'promoCode');var srcParam=this.getUpdatedParam('src',url,'macCode');var cleanUrl=this.removeExistingQueryParams(url);var queryAppendType=this.urlHasQueryParams(url)?'&':'?';var finalUrl=cleanUrl+queryAppendType+refridParam+'&'+srcParam;return finalUrl;},urlHasQueryParams:function(url){if(url.indexOf('&')===-1&&(url.indexOf('?src=')!==-1||url.indexOf('?refrid=')!==-1))return false;return url.indexOf('?')!==-1;},removeExistingQueryParams:function(url){return url.replace(/(src|refrid)\=([^&]*)&?/gi,'').replace(/(\?|&)$/g,'');},getUpdatedParam:function(param,url,codeType){var cookieCodes=ReferralManager.getCodesFromReferralCookie();var existingQueryParam=UrlHelpers.getUrlQueryParam(param,url);var updatedParam=param+'=';if(existingQueryParam){updatedParam+=existingQueryParam;if(updatedParam.indexOf(cookieCodes[codeType])===-1)updatedParam+=encodeURIComponent(',')+cookieCodes[codeType];}else updatedParam+=cookieCodes[codeType];return updatedParam;}};var openAccountLinks=document.querySelectorAll('[type="_open_an_account"], .referral-oaa, .bcn-button--open-an-account');for(var i=0;i<openAccountLinks.length;i++)openAccountLinks[i].addEventListener('click',function(event){var element=event.target||event.srcElement;if(element.tagName!=='A')element=element.parentNode;var url=element.getAttribute('href');var updatedUrl=oaaUrlHandler.getUpdatedUrl(url);element.setAttribute('href',updatedUrl);});}}})(document,window);;
(function($,Drupal,window){Drupal.behaviors.doubleclick_clickevents={attach:function(context,settings){var elements={video_play:$('.video-embed-field-responsive-video iframe'),podcast_play:$('.jp-play'),podcast_dl:$('.podcast-download__button'),podcast_sub:$('.podcast-subscribe__button'),taxonomy_items:$('.categorization a'),related_items:$('.schwab-related a'),slide_items:$('.swiper-slide .views-field a, .swiper-slide .slide-title a'),cta_items:$('.block-contact__wrapper a, .call-to-action__link a, .schwab-inline-cta a'),slideshow_buttons:$('.swiper-button-prev, .swiper-button-next'),share_items:$('.sharethis-wrapper > span')};var pagehalf=$(document).height()/2;var scrollfire=false;var dcData={"dcId":"reii","articles":{"personal finance":{"landing":"pfplp","nav":"pfpnav","cta":"pfpcta","scroll":"pfpst"},"market commentary":{"landing":"mclp","nav":"mcnav","cta":"mccta","scroll":"mcst"},"stocks":{"landing":"stoclp","nav":"stocnav","cta":"stoccta","scroll":"stocst"},"fixed income":{"landing":"filp","nav":"finav","cta":"ficta","scroll":"fist"},"mutual funds":{"landing":"mflp","nav":"mfnav","cta":"mfcta","scroll":"mfst"},"etfs":{"landing":"etflp","nav":"etfnav","cta":"etfcta","scroll":"etfst"},"international":{"landing":"ilp","nav":"inav","cta":"icta","scroll":"ist"},"portfolio management":{"landing":"pmlp","nav":"pmnav","cta":"pmcta","scroll":"pmst"},"retirement planning":{"landing":"rplp","nav":"rpnav","cta":"rpcta","scroll":"rpst"},"retirment income":{"landing":"rilp","nav":"rinav","cta":"ricta","scroll":"rist"},"taxes":{"landing":"taxlp","nav":"taxnav","cta":"taxcta","scroll":"taxst"},"behavioral finance":{"landing":"bflp","nav":"bfnav","cta":"bfcta","scroll":"bfst"},"trading":{"landing":"tlp","nav":"tnav","cta":"tcta","scroll":"tst"}},"infographic":{"personal finance":{"landing":"pfplp","nav":"pfpnav","cta":"pfpcta"},"market commentary":{"landing":"mclp","nav":"mcnav","cta":"mccta"},"stocks":{"landing":"stoclp","nav":"stocnav","cta":"stoccta"},"fixed income":{"landing":"filp","nav":"finav","cta":"ficta"},"mutual funds":{"landing":"mflp","nav":"mfnav","cta":"mfcta"},"etfs":{"landing":"etflp","nav":"etfnav","cta":"etfcta"},"international":{"landing":"ilp","nav":"inav","cta":"icta"},"portfolio management":{"landing":"pmlp","nav":"pmnav","cta":"pmcta"},"retirement planning":{"landing":"rplp","nav":"rpnav","cta":"rpcta"},"retirment income":{"landing":"rilp","nav":"rinav","cta":"ricta"},"taxes":{"landing":"taxlp","nav":"taxnav","cta":"taxcta"},"behavioral finance":{"landing":"bflp","nav":"bfnav","cta":"bfcta"},"trading":{"landing":"tlp","nav":"tnav","cta":"tcta"}},"slideshow":{"personal finance":{"landing":"pfplp","nav":"pfpnav","cta":"pfpcta"},"market commentary":{"landing":"mclp","nav":"mcnav","cta":"mccta"},"stocks":{"landing":"stoclp","nav":"stocnav","cta":"stoccta"},"fixed income":{"landing":"filp","nav":"finav","cta":"ficta"},"mutual funds":{"landing":"mflp","nav":"mfnav","cta":"mfcta"},"etfs":{"landing":"etflp","nav":"etfnav","cta":"etfcta"},"international":{"landing":"ilp","nav":"inav","cta":"icta"},"portfolio management":{"landing":"pmlp","nav":"pmnav","cta":"pmcta"},"retirement planning":{"landing":"rplp","nav":"rpnav","cta":"rpcta"},"retirment income":{"landing":"rilp","nav":"rinav","cta":"ricta"},"taxes":{"landing":"taxlp","nav":"taxnav","cta":"taxcta"},"behavioral finance":{"landing":"bflp","nav":"bfnav","cta":"bfcta"},"trading":{"landing":"tlp","nav":"tnav","cta":"tcta"}},"video":{"personal finance":{"landing":"pfplp","nav":"pfpnav","cta":"pfpcta","play":"pfpvp","complete":"pfpvc"},"market commentary":{"landing":"mclp","nav":"mcnav","cta":"mccta","play":"mcvp","complete":"mcvc"},"stocks":{"landing":"stoclp","nav":"stocnav","cta":"stoccta","play":"stocvp","complete":"stocvc"},"fixed income":{"landing":"filp","nav":"finav","cta":"ficta","play":"fivp","complete":"fivc"},"mutual funds":{"landing":"mflp","nav":"mfnav","cta":"mfcta","play":"mfvp","complete":"mfvc"},"etfs":{"landing":"etflp","nav":"etfnav","cta":"etfcta","play":"mfvp","complete":"mfvc"},"international":{"landing":"ilp","nav":"inav","cta":"icta","video play":"ivp","video complete":"ivc"},"portfolio management":{"landing":"pmlp","nav":"pmnav","cta":"pmcta","play":"pmvp","complete":"pmvc"},"retirement planning":{"landing":"rplp","nav":"rpnav","cta":"rpcta","play":"rpvp","complete":"rpvc"},"retirment income":{"landing":"rilp","nav":"rinav","cta":"ricta","play":"rivp","complete":"rivc"},"taxes":{"landing":"taxlp","nav":"taxnav","cta":"taxcta","play":"rivp","complete":"rivc"},"behavioral finance":{"landing":"bflp","nav":"bfnav","cta":"bfcta","play":"bfvp","complete":"bfvc"},"trading":{"landing":"tlp","nav":"tnav","cta":"tcta","play":"tvp","complete":"tvc"}},"podcast":{"personal finance":{"landing":"pfplp","nav":"pfpnav","cta":"pfpcta","play":"pfppp","subscribe":"pfpps"},"market commentary":{"landing":"mclp","nav":"mcnav","cta":"mccta","play":"mcpp","subscribe":"mcps"},"stocks":{"landing":"stoclp","nav":"stocnav","cta":"stoccta","play":"stocpp","subscribe":"stocps"},"fixed income":{"landing":"filp","nav":"finav","cta":"ficta","play":"fipp","subscribe":"fips"},"mutual funds":{"landing":"mflp","nav":"mfnav","cta":"mfcta","play":"mfpp","subscribe":"mfps"},"etfs":{"landing":"etflp","nav":"etfnav","cta":"etfcta","play":"etfpp","subscribe":"etfps"},"international":{"landing":"ilp","nav":"inav","cta":"icta","play":"ipp","subscribe":"ips"},"portfolio management":{"landing":"pmlp","nav":"pmnav","cta":"pmcta","play":"pmpp","subscribe":"pmps"},"retirement planning":{"landing":"rplp","nav":"rpnav","cta":"rpcta","play":"rppp","subscribe":"rpps"},"retirment income":{"landing":"rilp","nav":"rinav","cta":"ricta","play":"ripp","subscribe":"rips"},"taxes":{"landing":"taxlp","nav":"taxnav","cta":"taxcta","play":"taxpp","subscribe":"taxps"},"behavioral finance":{"landing":"bflp","nav":"bfnav","cta":"bfcta","play":"bfpp","subscribe":"bfps"},"trading":{"landing":"tlp","nav":"tnav","cta":"tcta","play":"tpp","subscribe":"tps"}},"home":{"landing":"homelp","nav":"homenav"},"index":{"landing":"indexlp","nav":"indexnav"}};if(window.waScContentType)var contentType=window.waScContentType.toLowerCase();if(window.waPrimaryCat){var primaryCat=window.waPrimaryCat.toLowerCase();if(primaryCat=="retirement")primaryCat="retirement planning";}function attachDcEventHandlers(data){elements.taxonomy_items.on('click touch',function(e){DcOnClickTracking(data.dcId,data.articles[primaryCat].nav);});elements.related_items.on('click touch',function(e){DcOnClickTracking(data.dcId,data.articles[primaryCat].nav);});elements.slide_items.on('click touch',function(e){DcOnClickTracking(data.dcId,data.articles[primaryCat].nav);});elements.slideshow_buttons.on('click touch',function(e){DcOnClickTracking(data.dcId,data.articles[primaryCat].nav);});elements.share_items.on('click touch',function(e){DcOnClickTracking('reii','ss');});elements.cta_items.on('click touch',function(e){DcOnClickTracking(data.dcId,data.articles[primaryCat].cta);});if(contentType&&contentType.indexOf("article")>-1)$(window).on('scroll',function(){if(($(this).scrollTop()>pagehalf)&&scrollfire==false){DcOnClickTracking(data.dcId,data.articles[primaryCat].scroll);scrollfire=true;}});if(contentType&&contentType.indexOf("video")>-1)elements.video_play.on('click touch',function(){DcOnClickTracking(data.dcId,data.video[primaryCat].play);});if(contentType&&contentType.indexOf("podcast")>-1){elements.podcast_play.on('click touch',function(){DcOnClickTracking(data.dcId,data.podcast[primaryCat].play);});elements.podcast_dl.on('click touch',function(){DcOnClickTracking(data.dcId,data.podcast[primaryCat].play);});elements.podcast_sub.on('click touch',function(){DcOnClickTracking(data.dcId,data.podcast[primaryCat].subscribe);});}}if(primaryCat)attachDcEventHandlers(dcData);}};})(jQuery,Drupal,window);;
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery);}(function(e){"use strict";var n,t,r,o,i={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0,gaGlobal:!1,gtmOverride:!1,trackerName:!1,dataLayer:"dataLayer"},a=e(window),l=[],c=!1,u=0;return e.scrollDepth=function(p){function s(e,i,a,l){var c=p.trackerName?p.trackerName+".send":"send";o?(o({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:i,eventValue:1,eventNonInteraction:p.nonInteraction}),p.pixelDepth&&arguments.length>2&&a>u&&(u=a,o({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:d(a),eventValue:1,eventNonInteraction:p.nonInteraction})),p.userTiming&&arguments.length>3&&o({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:e,eventLabel:i,eventTiming:l})):(n&&(window[r](c,"event","Scroll Depth",e,i,1,{nonInteraction:p.nonInteraction}),p.pixelDepth&&arguments.length>2&&a>u&&(u=a,window[r](c,"event","Scroll Depth","Pixel Depth",d(a),1,{nonInteraction:p.nonInteraction})),p.userTiming&&arguments.length>3&&window[r](c,"timing","Scroll Depth",e,l,i)),t&&(_gaq.push(["_trackEvent","Scroll Depth",e,i,1,p.nonInteraction]),p.pixelDepth&&arguments.length>2&&a>u&&(u=a,_gaq.push(["_trackEvent","Scroll Depth","Pixel Depth",d(a),1,p.nonInteraction])),p.userTiming&&arguments.length>3&&_gaq.push(["_trackTiming","Scroll Depth",e,l,i,100])));}function h(e){return {"25%":parseInt(.25*e,10),"50%":parseInt(.5*e,10),"75%":parseInt(.75*e,10),"100%":e-5};}function g(n,t,r){e.each(n,function(n,o){-1===e.inArray(n,l)&&t>=o&&(s("Percentage",n,t,r),l.push(n));});}function f(n,t,r){e.each(n,function(n,o){-1===e.inArray(o,l)&&e(o).length&&t>=e(o).offset().top&&(s("Elements",o,t,r),l.push(o));});}function d(e){return (250*Math.floor(e/250)).toString();}function m(){y();}function v(e,n){var t,r,o,i=null,a=0,l=function(){a=new Date(),i=null,o=e.apply(t,r);};return function(){var c=new Date();a||(a=c);var u=n-(c-a);return t=this,r=arguments,0>=u?(clearTimeout(i),i=null,a=c,o=e.apply(t,r)):i||(i=setTimeout(l,u)),o;};}function y(){c=!0,a.on("scroll.scrollDepth",v(function(){var n=e(document).height(),t=window.innerHeight?window.innerHeight:a.height(),r=a.scrollTop()+t,o=h(n),i=+new Date()-D;return l.length>=p.elements.length+(p.percentage?4:0)?(a.off("scroll.scrollDepth"),void (c=!1)):(p.elements&&f(p.elements,r,i),void (p.percentage&&g(o,r,i)));},500));}var D=+new Date();p=e.extend({},i,p),e(document).height()<p.minHeight||(p.gaGlobal?(n=!0,r=p.gaGlobal):"function"==typeof ga?(n=!0,r="ga"):"function"==typeof __gaTracker&&(n=!0,r="__gaTracker"),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(t=!0),"function"==typeof p.eventHandler?o=p.eventHandler:"undefined"==typeof window[p.dataLayer]||"function"!=typeof window[p.dataLayer].push||p.gtmOverride||(o=function(e){window[p.dataLayer].push(e);}),e.scrollDepth.reset=function(){l=[],u=0,a.off("scroll.scrollDepth"),y();},e.scrollDepth.addElements=function(n){"undefined"!=typeof n&&e.isArray(n)&&(e.merge(p.elements,n),c||y());},e.scrollDepth.removeElements=function(n){"undefined"!=typeof n&&e.isArray(n)&&e.each(n,function(n,t){var r=e.inArray(t,p.elements),o=e.inArray(t,l);-1!=r&&p.elements.splice(r,1),-1!=o&&l.splice(o,1);});},m());},e.scrollDepth;});;
(function(Drupal,window){Drupal.behaviors.schwab_tealium_ps_tag_header={attach:function(context,settings){window.wa_enable=true;window.hexcase=0;window.b64pad="=";window.chrsz=8;window.sendBid="";window.wa_global_disable=false;function SHA256(s){var chrsz=8;var hexcase=0;function safe_add(x,y){var lsw=(x&0xFFFF)+(y&0xFFFF);var msw=(x>>16)+(y>>16)+(lsw>>16);return (msw<<16)|(lsw&0xFFFF);}function S(X,n){return (X>>>n)|(X<<(32-n));}function R(X,n){return (X>>>n);}function Ch(x,y,z){return ((x&y)^((~x)&z));}function Maj(x,y,z){return ((x&y)^(x&z)^(y&z));}function Sigma0256(x){return (S(x,2)^S(x,13)^S(x,22));}function Sigma1256(x){return (S(x,6)^S(x,11)^S(x,25));}function Gamma0256(x){return (S(x,7)^S(x,18)^R(x,3));}function Gamma1256(x){return (S(x,17)^S(x,19)^R(x,10));}function core_sha256(m,l){var K=new Array(0x428A2F98,0x71374491,0xB5C0FBCF,0xE9B5DBA5,0x3956C25B,0x59F111F1,0x923F82A4,0xAB1C5ED5,0xD807AA98,0x12835B01,0x243185BE,0x550C7DC3,0x72BE5D74,0x80DEB1FE,0x9BDC06A7,0xC19BF174,0xE49B69C1,0xEFBE4786,0xFC19DC6,0x240CA1CC,0x2DE92C6F,0x4A7484AA,0x5CB0A9DC,0x76F988DA,0x983E5152,0xA831C66D,0xB00327C8,0xBF597FC7,0xC6E00BF3,0xD5A79147,0x6CA6351,0x14292967,0x27B70A85,0x2E1B2138,0x4D2C6DFC,0x53380D13,0x650A7354,0x766A0ABB,0x81C2C92E,0x92722C85,0xA2BFE8A1,0xA81A664B,0xC24B8B70,0xC76C51A3,0xD192E819,0xD6990624,0xF40E3585,0x106AA070,0x19A4C116,0x1E376C08,0x2748774C,0x34B0BCB5,0x391C0CB3,0x4ED8AA4A,0x5B9CCA4F,0x682E6FF3,0x748F82EE,0x78A5636F,0x84C87814,0x8CC70208,0x90BEFFFA,0xA4506CEB,0xBEF9A3F7,0xC67178F2);var HASH=new Array(0x6A09E667,0xBB67AE85,0x3C6EF372,0xA54FF53A,0x510E527F,0x9B05688C,0x1F83D9AB,0x5BE0CD19);var W=new Array(64);var a,b,c,d,e,f,g,h,i,j;var T1,T2;m[l>>5]|=0x80<<(24-l%32);m[((l+64>>9)<<4)+15]=l;for(var i=0;i<m.length;i+=16){a=HASH[0];b=HASH[1];c=HASH[2];d=HASH[3];e=HASH[4];f=HASH[5];g=HASH[6];h=HASH[7];for(var j=0;j<64;j++){if(j<16)W[j]=m[j+i];else W[j]=safe_add(safe_add(safe_add(Gamma1256(W[j-2]),W[j-7]),Gamma0256(W[j-15])),W[j-16]);T1=safe_add(safe_add(safe_add(safe_add(h,Sigma1256(e)),Ch(e,f,g)),K[j]),W[j]);T2=safe_add(Sigma0256(a),Maj(a,b,c));h=g;g=f;f=e;e=safe_add(d,T1);d=c;c=b;b=a;a=safe_add(T1,T2);}HASH[0]=safe_add(a,HASH[0]);HASH[1]=safe_add(b,HASH[1]);HASH[2]=safe_add(c,HASH[2]);HASH[3]=safe_add(d,HASH[3]);HASH[4]=safe_add(e,HASH[4]);HASH[5]=safe_add(f,HASH[5]);HASH[6]=safe_add(g,HASH[6]);HASH[7]=safe_add(h,HASH[7]);}return HASH;}function str2binb(str){var bin=Array();var mask=(1<<chrsz)-1;for(var i=0;i<str.length*chrsz;i+=chrsz)bin[i>>5]|=(str.charCodeAt(i/chrsz)&mask)<<(24-i%32);return bin;}function binb2str(input){var output="";for(var i=0;i<input.length*32;i+=8)output+=String.fromCharCode((input[i>>5]>>>(24-i%32))&0xFF);return output;}function str2b64(input){try{b64pad;}catch(e){b64pad='';}var tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var output="";var len=input.length;for(var i=0;i<len;i+=3){var triplet=(input.charCodeAt(i)<<16)|(i+1<len?input.charCodeAt(i+1)<<8:0)|(i+2<len?input.charCodeAt(i+2):0);for(var j=0;j<4;j++)if(i*8+j*6>input.length*8)output+=b64pad;else output+=tab.charAt((triplet>>>6*(3-j))&0x3F);}return output;}return str2b64(binb2str(core_sha256(str2binb(s),s.length*chrsz)));}function getCookie(c_name){var i,x,y,cookies=document.cookie.split(";");for(i=0;i<cookies.length;i++){x=cookies[i].substr(0,cookies[i].indexOf("="));y=cookies[i].substr(cookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name)return unescape(y);}}function fetchBrowserId(cbidInd){var cbid;var np2=getCookie("NP2");if(np2!=null&&np2.indexOf("|")!=-1){var val=np2.split("|");if(val.length>2){cbid=cbidInd+SHA256(cbidInd+val[1]);sendBid=val[1];}}else{var browserId=base64ToAscii(bin2String(str2ab(createGuid()))).replace(/(^=+|=+$)/mg,"");var np2Cookie="|"+browserId+"|||||||||||||";mkTmsCookie("NP2",np2Cookie,6000,"/",".schwab.com");cbid=cbidInd+SHA256(cbidInd+browserId);sendBid=browserId;}return cbid;}function base64ToAscii(text){var digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,cur,prev,byteNum,result=[];while(i<text.length){cur=text.charCodeAt(i);byteNum=i%3;switch(byteNum){case 0:result.push(digits.charAt(cur>>2));break;case 1:result.push(digits.charAt((prev&3)<<4|(cur>>4)));break;case 2:result.push(digits.charAt((prev&0x0f)<<2|(cur>>6)));result.push(digits.charAt(cur&0x3f));break;}prev=cur;i++;}return result.join("");}function mkTmsCookie(name,value,expires,path,domain){var cookie=name+"="+value+";";if(expires){if(expires instanceof Date){if(isNaN(expires.getTime()))expires=new Date();}else expires=new Date(new Date().getTime()+parseInt(expires)*1000*60*60*24);cookie+="expires="+expires.toGMTString()+";";}if(path)cookie+="path="+path+";";if(domain)cookie+="domain="+domain+";";document.cookie=cookie;}function str2ab(str){var res=str.split('-');var bufView=new Array(16);var k=0;for(var i=0;i<res.length;i++)for(var j=0;j<res[i].length;j+=2){var hex=res[i][j]+res[i][j+1];bufView[k++]=parseInt(hex,16);}return bufView;}function bin2String(array){var result="";for(var i=0;i<array.length;i++)result+=String.fromCharCode(parseInt(array[i]));return result;}function createGuid(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c==='x'?r:(r&0x3|0x8);return v.toString(16);});}window.utag_data={sc_report_suite:typeof (tealium_report_suite)=="undefined"?"":tealium_report_suite,sc_server:typeof (metric_server)=="undefined"?"":metric_server,sc_serversecure:typeof (metric_secure_server)=="undefined"?"":metric_secure_server,env_id:typeof (waEnvId)=="undefined"?"DEV":waEnvId,page_name:typeof (waPageName)=="undefined"?"DEFAULT_PAGE_NAME":waPageName,page_path:typeof (waUri)=="undefined"?location.pathname:waUri,page_category:typeof (waCategoryName)=="undefined"?"prospects":waCategoryName,page_multi_level_category:typeof (waMultiLevelCategory)=="undefined"?"":waMultiLevelCategory,page_use_default_name:typeof (waUseDefaultPageName)=="undefined"?false:waUseDefaultPageName,campaign_id:typeof (waCampaign)=="undefined"?"":waCampaign,link_tracking:typeof (waLinkTracking)=="undefined"?false:waLinkTracking,entry_tracking:typeof (waEntryTracking)=="undefined"?false:waEntryTracking,segment:typeof (waSegment)=="undefined"?"":waSegment,segment_code:typeof (waSegmentCode)=="undefined"?"":waSegmentCode,user_id:typeof (waUserId)=="undefined"?"":waUserId,page_disabled:typeof (waDisabled)=="undefined"?false:waDisabled,application_name:typeof (waAppName)=="undefined"?"":waAppName,success_event_id:typeof (waSuccessEventId)=="undefined"?"":waSuccessEventId,application_id:typeof (waApplicationId)=="undefined"?"":waApplicationId,account_type:typeof (waAccountType)=="undefined"?"":waAccountType,lead_type:typeof (waLeadType)=="undefined"?"":waLeadType,transaction_id:typeof (waCeid)=="undefined"?"":waCeid,correlated_browser_id:fetchBrowserId("A"),application_detail:typeof (waApplicationDetail1)=="undefined"?"":waApplicationDetail1,tool_name:typeof (waToolName)=="undefined"?"":waToolName,tool_success_action:typeof (waToolSuccessAction)=="undefined"?"":waToolSuccessAction,tool_error_desc:typeof (waToolErrorDescription)=="undefined"?"":waToolErrorDescription,language_code:typeof (waLanguage)=="undefined"?"en-US":waLanguage,moxie_chat_type:typeof (waChatType)=="undefined"?"":waChatType,moxie_service_line_id:typeof (waServiceLineId)=="undefined"?"":waServiceLineId,expert_insights_content_type:typeof (waScContentType)=="undefined"?"":waScContentType,apt_load:typeof (waAptLoad)=="undefined"?"false":waAptLoad,platform:typeof (waPlatform)=="undefined"?"":waPlatform,user_agent_string:navigator.userAgent,content_cta:typeof (waContentCTA)=="undefined"?"":waContentCTA,corp_customer_id:typeof (waCorpCustId)=="undefined"?"":waCorpCustId,firm_name:typeof (waFirmName)=="undefined"?"":waFirmName,audience_type:typeof (waAudienceType)=="undefined"?"":waAudienceType,dc_acct_type:typeof (waDcAcctType)=="undefined"?"":waDcAcctType,dc_src:typeof (waDcSrc)=="undefined"?"":waDcSrc,dc_type:typeof (waDcType)=="undefined"?"":waDcType,dc_cat:typeof (waDcCat)=="undefined"?"":waDcCat,dc_ceidg:typeof (waDcCeidG)=="undefined"?"":waDcCeidG,dc_browser_id:fetchBrowserId("G"),dc_tag_set:typeof (waDcTagSet)=="undefined"?"":waDcTagSet,marketo_acct_id:typeof (marketo_acct)=="undefined"?"":marketo_acct,marketo_enable:typeof (waMktoEnable)=="undefined"?0:waMktoEnable,sz_id:typeof (waSzId)=="undefined"?"":waSzId,sz_redirect:typeof (waSzRedirect)=="undefined"?null:waSzRedirect,sz_target:typeof (waSzTarget)=="undefined"?null:waSzTarget,sz_params:typeof (waSzParams)=="undefined"?null:waSzParams,quantcast_enable:typeof (waQuantcastEnable)=="undefined"?null:waQuantcastEnable,user_agent_string:navigator.userAgent,site_subsection2:"",site_subsection3:"",search_keyword:typeof (waSearchParameter)=="undefined"?"":waSearchParameter,search_count:typeof (waSearchCount)=="undefined"?"":waSearchCount,custom_evar05:typeof (waCustEventVar5)=="undefined"?"":waCustEventVar5,custom_evar06:typeof (waCustEventVar6)=="undefined"?"":waCustEventVar6,custom_evar07:typeof (waCustEventVar7)=="undefined"?"":waCustEventVar7,custom_evar08:typeof (waCustEventVar8)=="undefined"?"":waCustEventVar8,custom_evar09:typeof (waCustEventVar9)=="undefined"?"":waCustEventVar9,custom_evar10:typeof (waCustEventVar10)=="undefined"?"":waCustEventVar10,custom_evar13:typeof (waCustEventVar13)=="undefined"?"":waCustEventVar13,custom_evar19:typeof (waCustEventVar19)=="undefined"?"":waCustEventVar19,custom_evar24:typeof (waCustEventVar24)=="undefined"?"":waCustEventVar24,custom_evar59:typeof (waCustEventVar59)=="undefined"?"":waCustEventVar59,custom_evar60:typeof (waCustEventVar60)=="undefined"?"":waCustEventVar60,custom_evar61:typeof (waCustEventVar61)=="undefined"?"":waCustEventVar61,custom_evar62:typeof (waCustEventVar62)=="undefined"?"":waCustEventVar62,custom_evar63:typeof (waCustEventVar63)=="undefined"?"":waCustEventVar63,custom_evar64:typeof (waCustEventVar64)=="undefined"?"":waCustEventVar64,custom_evar65:typeof (waCustEventVar65)=="undefined"?"":waCustEventVar65,custom_evar68:typeof (waCustEventVar68)=="undefined"?"":waCustEventVar68,custom_evar70:typeof (waCustEventVar70)=="undefined"?"":waCustEventVar70,taxonomy_author:typeof (document.getElementsByName("author")[0])=="undefined"?"":document.getElementsByName("author")[0].content,taxonomy_business_line:typeof (document.getElementsByName("businessline")[0])=="undefined"?"":document.getElementsByName("businessline")[0].content,taxonomy_detailed_subject:typeof (document.getElementsByName("subject-lvl2")[0])=="undefined"?"":document.getElementsByName("subject-lvl2")[0].content,taxonomy_experience_level:typeof (document.getElementsByName("experiencelevel")[0])=="undefined"?"":document.getElementsByName("experiencelevel")[0].content,taxonomy_format_type:typeof (document.getElementsByName("formattype")[0])=="undefined"?"":document.getElementsByName("formattype")[0].content,taxonomy_general_subject:typeof (document.getElementsByName("subject-lvl1")[0])=="undefined"?"":document.getElementsByName("subject-lvl1")[0].content,taxonomy_keyword_category:typeof (document.getElementsByName("category")[0])=="undefined"?"":document.getElementsByName("category")[0].content,taxonomy_life_event:typeof (document.getElementsByName("lifeevent")[0])=="undefined"?"":document.getElementsByName("lifeevent")[0].content,taxonomy_page_segment:typeof (document.getElementsByName("segment")[0])=="undefined"?"":document.getElementsByName("segment")[0].content,d8_node_id:typeof (waD8NodeId)=="undefined"?"":waD8NodeId,d8_compliance_id:typeof (waD8ComplianceId)=="undefined"?"":waD8ComplianceId,d8_section_id:typeof (waD8SectionPageId)=="undefined"?"":waD8SectionPageId};if(window.ad_hoc_tags)jQuery.each(window.ad_hoc_tags,function(key,value){window.utag_data[key]=value;});if(window.global_param_tags)jQuery.each(window.global_param_tags,function(key,value){window.utag_data[key]=value;});(function(){utag_data.page_path.replace(/secure\/.*?\//,"").replace(/\/index.html|\/$/,"").match(/(.*\/)(.*)/);if(utag_data.page_name.indexOf("/")>-1&&utag_data.page_name.length>1){utag_data.page_name.match(/(.*\/)(.*)/);utag_data.page_path=RegExp.$1;utag_data.page_name=RegExp.$2;}else if(utag_data.page_name.indexOf("/")>-1&&utag_data.page_name=="/"){utag_data.page_path=utag_data.page_name;utag_data.page_name=RegExp.$2;}else{utag_data.page_path=RegExp.$1;utag_data.page_name=(utag_data.page_name==""?RegExp.$2:utag_data.page_name);}if(utag_data.page_category!=null&&utag_data.page_category.length>0&&utag_data.page_category.substring(0,1)!="/")utag_data.page_category="/"+utag_data.page_category;if(utag_data.page_use_default_name==true)utag_data.page_name=typeof (utag_data.page_name)=="undefined"?"":utag_data.page_category+"/"+utag_data.page_name;else utag_data.page_name=typeof (utag_data.page_name)=="undefined"?"":utag_data.page_category+"/"+utag_data.page_path+"/"+utag_data.page_name;utag_data.page_name=utag_data.page_name.replace(/\/\/+/gi,"/");var mlc=utag_data.page_category+"/"+utag_data.page_path;mlc=mlc.replace(/\/\/+/gi,"/");utag_data.page_multi_level_category=typeof (utag_data.page_multi_level_category)=="undefined"?"No_MultiLevelCategory":(utag_data.page_multi_level_category!=""?utag_data.page_multi_level_category:mlc);utag_data.custom_evar19=typeof (utag_data.custom_evar19)=="undefined"?(typeof (tmp)=="undefined"||tmp==null?"":tmp[1]):utag_data.custom_evar19;})();window.TagParameters={compatibilityflag:1,Optional:{SuccessEventId:""},Vendor:{SiteCatalyst:{S:{prop17:""}}}};if(typeof (TagParameters.Optional.SuccessEventId)!="undefined"&&TagParameters.Optional.SuccessEventId)utag_data.success_event_id=TagParameters.Optional.SuccessEventId;}};})(Drupal,window);;
(function(Drupal,window){Drupal.behaviors.schwab_tealium_ps_tag_footer={attach:function(context,settings){if(typeof (tealium_lib)=="undefined")return;if(typeof (utag_loaded)==="boolean"&&utag_loaded===true)return;if(typeof (TagParameters.Optional.SuccessEventId)!="undefined"&&TagParameters.Optional.SuccessEventId)utag_data.success_event_id=TagParameters.Optional.SuccessEventId;window.utagLibPath="";utagLibPath="//tags.tiqcdn.com/utag/schwab/"+tealium_lib+"/prod/utag.js";(function(a,b,c,d){a=utagLibPath;b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=false;a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);})();utag_loaded=true;if(typeof (s)!="undefined"&&s.prop17)TagParameters.Vendor.SiteCatalyst.S.prop17=s.prop17;if(typeof (sendBid)!="undefined"&&sendBid!="")if(window.location.hostname=="content.schwab.com"||window.location.hostname=="activetrader.schwab.com"||window.location.hostname=="intelligent.schwab.com"||window.location.hostname=="intelligent-pre.schwab.com"){var bcon1=document.createElement("img");var refUrl=encodeURIComponent(window.location.href);var protocol=window.location.protocol=='https:'?'https:':'http:';bcon1.src=protocol+"//www.schwab.com/public/file?cmsid=P-684894&filename=ClrPix.gif"+"&bid="+sendBid+"&refurl="+refUrl;bcon1.style.display='none';document.body.appendChild(bcon1);var bcon2=document.createElement("script");bcon2.src=protocol+"//www.schwab.com/public/schwab/page?cmsid=P-7212235"+"&bid="+sendBid+"&refurl="+refUrl;document.body.appendChild(bcon2);}}};})(Drupal,window);;
class fx_Accordion{constructor(el){this.el=el;this.trigger=el.querySelector('.schfx-accordion-item_trigger');this.icon=this.trigger.querySelector('span');this.iconExpand=this.icon.querySelector('.schfx-accordion-item_trigger--expand');this.panel=el.querySelector('.schfx-accordion-item_panel');this.animation=null;this.isClosing=false;this.isExpanding=false;this.trigger.addEventListener('click',(e)=>this.onClick(e));this.animationTiming=200;this.animationEasing="cubic-bezier(.8, .25, .25, 1)";this.triggerPaddingAdjustment=parseInt(window.getComputedStyle(this.el).paddingTop)+parseInt(window.getComputedStyle(this.el).paddingTop);this.parentComponent=el.closest('.schfx-accordion');if(this.parentComponent){this.targets=this.parentComponent.querySelectorAll('.schfx-accordion-item');if(this.targets.length>1){this.expandButton=this.parentComponent.querySelector('.schfx-accordion-control--expand');this.collapseButton=this.parentComponent.querySelector('.schfx-accordion-control--collapse');this.expandButton.addEventListener('click',(e)=>this.expandAll(e));this.collapseButton.addEventListener('click',(e)=>this.collapseAll(e));}}}expandAll(e){e.preventDefault();if(!this.expandButton.disabled){this.targets.forEach(function(item){if(item.querySelector('.schfx-accordion-item_trigger').getAttribute('aria-expanded')==='false')item.querySelector('.schfx-accordion-item_trigger').click();});this.expandButton.disabled=true;this.collapseButton.disabled=false;}}checkExpanded(){let tally=0;this.targets.forEach(function(item){if(item.querySelector('.schfx-accordion-item_trigger').getAttribute('aria-expanded')==='true')tally+=1;});if(tally==this.targets.length)this.expandButton.disabled=true;if(tally!=0)this.collapseButton.disabled=false;}collapseAll(e){e.preventDefault();if(!this.collapseButton.disabled){this.targets.forEach(function(item){if(item.querySelector('.schfx-accordion-item_trigger').getAttribute('aria-expanded')==='true')item.querySelector('.schfx-accordion-item_trigger').click();});this.collapseButton.disabled=true;this.expandButton.disabled=false;}}checkCollapsed(){let tally=0;this.targets.forEach(function(item){if(item.querySelector('.schfx-accordion-item_trigger').getAttribute('aria-expanded')==='false')tally+=1;});if(tally==this.targets.length)this.collapseButton.disabled=true;if(tally!=0)this.expandButton.disabled=false;}onClick(e){e.preventDefault();this.el.style.overflow='hidden';if(this.isClosing||this.trigger.getAttribute('aria-expanded')==='false'){this.open();this.icon.classList.add('expanded');}else{if(this.isExpanding||this.trigger.getAttribute('aria-expanded')==='true'){this.shrink();this.icon.classList.remove('expanded');}}}shrink(){this.isClosing=true;const startHeight=`${this.el.offsetHeight}px`;const endHeight=`${this.trigger.offsetHeight+this.triggerPaddingAdjustment}px`;if(this.animation)this.animation.cancel();this.animation=this.el.animate({height:[startHeight,endHeight]},{duration:this.animationTiming,easing:this.animationEasing});this.animation.onfinish=()=>this.onAnimationFinish(false);this.animation.oncancel=()=>this.isClosing=false;}open(){this.el.style.height=`${this.el.offsetHeight}px`;this.el.open=true;window.requestAnimationFrame(()=>this.expand());}expand(){this.isExpanding=true;const startHeight=`${this.el.offsetHeight}px`;let panelHeight=this.getHiddenHeight(this.panel);const endHeight=`${this.trigger.offsetHeight+this.triggerPaddingAdjustment+panelHeight}px`;if(this.animation)this.animation.cancel();this.animation=this.el.animate({height:[startHeight,endHeight]},{duration:this.animationTiming,easing:this.animationEasing});this.animation.onfinish=()=>this.onAnimationFinish(true);this.animation.oncancel=()=>this.isExpanding=false;}onAnimationFinish(bool){this.trigger.setAttribute('aria-expanded',bool);this.animation=null;this.isClosing=false;this.isExpanding=false;this.el.style.height=this.el.style.overflow='';if(this.targets){this.checkExpanded();this.checkCollapsed();}if(bool)window.dispatchEvent(new CustomEvent('accordionOpen',{bubbles:true}));}getHiddenHeight(el){if(!el?.cloneNode)return null;const clone=el.cloneNode(true);Object.assign(clone.style,{overflow:'visible',height:'auto',maxHeight:'none',opacity:'0',visibility:'hidden',display:'block'});el.after(clone);const height=clone.offsetHeight;clone.remove();return height;}}const distributiveTracking=function(accordion){const classMatch="schfx-accordion-datatrack-";const re=new RegExp(classMatch);const accordionItems=accordion.querySelectorAll('.schfx-accordion-item');let containerTrackValue;accordion.className.split(' ').forEach((element)=>{if(re.test(element))containerTrackValue=element.replace(classMatch,'');});if(typeof (containerTrackValue)!='undefined')accordionItems.forEach((element)=>{let trigger=element.querySelector(".schfx-accordion-item_trigger");if(trigger.hasAttribute("data-track"))trigger.setAttribute("data-track",containerTrackValue+'|'+trigger.getAttribute("data-track"));else trigger.setAttribute("data-track",containerTrackValue+'|fireonce');});};const accordionize={init:function(selector){document.querySelectorAll(selector).forEach((el)=>{new fx_Accordion(el);});}};const containertracking={init:function(selector){document.querySelectorAll(selector).forEach((el)=>{distributiveTracking(el);});}};const setupAccordion=function(){accordionize.init('.schfx-accordion-item');containertracking.init('.schfx-accordion');};if('STORIES' in window)window.addEventListener('storyChange',()=>{setupAccordion();});else (function(Drupal){Drupal.behaviors.fxAccordion={attach:function(context,settings){once('fxAccordion','html').forEach(function(element){setupAccordion();});}};})(Drupal);window.addEventListener('initFx',()=>{setupAccordion();});;
const fxMedia={init:function(){document.querySelectorAll("button.schfx-media__toggle").forEach((toggle)=>{var classPaused="schfx-media__toggle--paused";var media=toggle.previousElementSibling;if(media){toggle.addEventListener("click",function(){if(toggle.classList.contains(classPaused)){media.play();toggle.classList.remove(classPaused);}else{media.pause();toggle.classList.add(classPaused);}});const reduceMotionQuery=window.matchMedia("(prefers-reduced-motion: reduce)");if(reduceMotionQuery.matches){media.pause();toggle.classList.add(classPaused);}}});}};if('STORIES' in window)window.addEventListener('storyChange',()=>{fxMedia.init();});else (function(Drupal){Drupal.behaviors.fxMedia={attach:function(context,settings){fxMedia.init();}};})(Drupal);;
(function($,Drupal){Drupal.behaviors.views_feed_icon={attach:function(context,settings){$('.view-id-token_list .feed-icon').removeClass('feed-icon').addClass('button');}};})(jQuery,Drupal);;
